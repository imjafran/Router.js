"use strict";const Router={hash:window.location.hash.substring(1).replace(/^\/|\/$/g,""),states:[],options:{router_attribute:"data-router",screen_attribute:"data-screen",home_screen:"home",error_screen:"error",active_class:"active",inactive_class:""},init:(t={})=>{Router.setOptions(t),Router.hash?Router.route(Router.hash):Router.route(Router.options.home_screen)},push:t=>{t=t.replace(/^\/|\/$/g,""),window.location.hash=t,Router.hash=t,Router.states.push(t.split("/")),window.history.replaceState({screen:t},"");let e=window.history.state;e&&e.screen==t||window.history.pushState({screen:Router.hash},"")},route:(t=!1)=>{if(!t)return!1;let e=document.querySelector(`[${Router.options.screen_attribute}="${t}"]`);if(Router.event("before",Router.from,t),t!=Router.options.error&&Router.push(t),Router.hideScreens(),Router.options.error!=t&&!e)return Router.event("error",Router.from,t),Router.route(Router.options.error_screen),!1;if(e){if("none"!=e.style.display)return!1;Router.event("after",Router.from,t),e.style.display="block",Router.options.active_class&&e.classList.add(Router.options.active_class),Router.options.inactive_class&&e.classList.remove(Router.options.inactive_class),Router.from=Router.to,Router.to=t}},hideScreens:()=>{let t=document.querySelectorAll(`[${Router.options.screen_attribute}]`);if(!t)return!1;t.forEach(t=>{t.style.display="none",Router.options.inactive_class&&t.classList.add(Router.options.inactive_class),Router.options.active_class&&t.classList.remove(Router.options.active_class)})},setOptions:(t={})=>{Router.options=Object.assign(Router.options,t)},event:(t="error",e=Router.from,o=Router.to)=>{document.dispatchEvent(new CustomEvent(`Router.${t}`,{bubbles:!0,detail:{from:e,to:o,states:o.split("/")}}))}};window.addEventListener("popstate",function(t){null!==t.state&&Router.route(t.state.screen)}),window.onload=(()=>{document.querySelectorAll(`[${Router.options.router_attribute}]`).forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),t.getAttribute(`${Router.options.router_attribute}`).length&&Router.route(t.getAttribute(`${Router.options.router_attribute}`))})})});